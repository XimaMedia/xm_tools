{namespace v = FluidTYPO3\Vhs\ViewHelpers}

<f:if condition="{parameter}">
    <f:then>
        <v:if stack="{0: '{v:math.round(a: parameter)}', 1: '>', 2: 0, 3: 'OR', 4: '{v:condition.string.contains(haystack: parameter, needle: \'file:\')}', 5: '>=', 6: 0, 7: 'OR', 8: '{v:condition.string.contains(haystack: parameter, needle: \'@\')}', 9: '>=', 10: 0}">
            <f:then>
                <f:comment>if it is an internal link, use the Link\TypolinkViewHelper</f:comment>
                <f:link.typolink parameter="{parameter}" class="{class}" title="{title}">
                    <f:format.htmlentitiesDecode>{linkHtml}</f:format.htmlentitiesDecode>
                </f:link.typolink>
            </f:then>
            <f:else>
                <f:comment>otherwise use Link\ExternalViewHelper</f:comment>
                <f:link.external uri="{parameter}" class="{class}" title="{title}">
                    <f:format.htmlentitiesDecode>{linkHtml}</f:format.htmlentitiesDecode>
                </f:link.external>
            </f:else>
        </v:if>
    </f:then>
    <f:else>
        <div><i>Error: no parameter for link given.</i></div>
    </f:else>
</f:if>